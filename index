#!/usr/bin/env python3

import argparse
import subprocess

print("Indexing...")

parser = argparse.ArgumentParser()
parser.add_argument("--collections", nargs="+", type=str, required=True, help="the collection names")

args = parser.parse_args()
for name in args.collections:
    subprocess.run("/work/terrier-project-5.1/bin/trec_setup.sh /input/collections/{}".format(name).split())
    subprocess.run("/work/terrier-project-5.1/bin/terrier batchindexing".split())
